#define _CRT_SECURE_NO_WARNINGS
#include<iostream>
using namespace std;

class Person
{
public:
	Person()
	{
		cout << "Person的默认构造函数调用" << endl;
	}

	Person(int age)
	{
		m_Age = age;
		cout << "Person的有参构造函数调用" << endl;
	}


	//拷贝构造函数
	Person(const Person &p)
	{
		cout << "Person的拷贝构造函数调用" << endl;
		m_Age = p.m_Age;
	}

	//析构函数
	~Person()
	{
		cout << "Person的析构函数调用" << endl;
	}

	int m_Age;

};


//1、用已经创建好的对象来初始化新的对象
void test51()
{
	Person p1(18);

	Person p2 = Person(p1);

	cout << "p2的年龄：" << p2.m_Age << endl;

}

//2、值传递的方式 给函数参数传值
//值传递的本质是拷贝操作
void doWork(Person p)
{

}
void test52()
{
	Person p1(100);

	doWork(p1);

}

//3、以值方式 返回局部对象
//也是相当于拷贝的对象
Person doWork2()
{
	Person p;
	return p;
}

void test53()
{
	//也是相当于拷贝的对象
	Person p = doWork2();
}

/*
	编译器优化代码后 release版本代码类似以下：
	void doWork2( Person &p ){};

	Person p;
	doWork2(p);
*/



int main5() {
	//test51();
	//test52();
	test53();
	system("pause");
	return EXIT_SUCCESS;
}